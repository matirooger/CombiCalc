<!DOCTYPE html>
<html>
<head>
    <title>Calculadora Matemática</title>
    <link rel="stylesheet" type="text/css" href="simple.css">
    <meta charset="UTF-8">
    <link rel="icon" href="calculadoraSimple.png">

</head>
<body>
    <header>
        <div class="header-content">
            <div class="menu">
                <img id="menu-button" src="lineas.png" alt="Menú">
                <nav class="navbar" id="myNavbar">
                    <ul>
                        <li><a href="../index.html">Inicio</a></li>
                            <li><a href="../CalcSimple/simple.html">Calculadora Simple</a></li>
                            <li><a href="../CalcCientifica/cientifica.html">Calculadora Cientifica</a></li>
                            <li><a href="../CalcPorcentaje/porcentaje.html">Calculadora de Porcentaje</a></li>
                            <li><a href="../ConverLongitud/Longitud.html">Conversor de Longitud</a></li>
                            <li><a href="../ConversorPeso/Peso.html">Conversor de Peso</a></li>
                            <li><a href="../ConversorVelocidad/Velocidad.html">Conversor de Velocidad</a></li>
                            <li><a href="../ConversorTemperatura/Temperatura.html">Conversor de Temperatura</a></li>
                            <li><a href="../ConversorTiempo/Tiempo.html">Conversor de Tiempo</a></li>
                    </ul>
                </nav>
            </div>
            <div class="title">
                <h1>Calculadora Simple</h1>
            </div>
        </div>
    </header>
    <main>
        <div class="calculator">
            <input type="text" id="display" disabled>
            <br>
            <input type="button" value="1" onclick="appendToDisplay('1')">
            <input type="button" value="2" onclick="appendToDisplay('2')">
            <input type="button" value="3" onclick="appendToDisplay('3')">
            <input type="button" value="+" onclick="appendToDisplay('+')">
            <br>
            <input type="button" value="4" onclick="appendToDisplay('4')">
            <input type="button" value="5" onclick="appendToDisplay('5')">
            <input type="button" value="6" onclick="appendToDisplay('6')">
            <input type="button" value="-" onclick="appendToDisplay('-')">
            <br>
            <input type="button" value="7" onclick="appendToDisplay('7')">
            <input type="button" value="8" onclick="appendToDisplay('8')">
            <input type="button" value="9" onclick="appendToDisplay('9')">
            <input type="button" value="*" onclick="appendToDisplay('*')">
            <br>
            <input type="button" value="C" onclick="clearDisplay()" class="borrar">
            <input type="button" value="0" onclick="appendToDisplay('0')">
            <input type="button" value="=" onclick="calculate()" class="igual">
            <input type="button" value="/" onclick="appendToDisplay('/')">
        </div>
        
        <div id="historial">
            <h2>Historial de Cálculos</h2>
            <hr><br>
            <ul id="historial-list"></ul>
        </div>

    </main>
    <footer>
        <p>"Calculadora Integral: Tu solución matemática todo en uno. 
            Simplifica tus cálculos diarios y proyectos más complejos con nuestra calculadora integral. 
            La herramienta perfecta para tus necesidades matemáticas."</p>
        <h5>"© 2023 ConviCalc. Todos los derechos reservados."</h5>
    </footer>

    <script>

        /*FUNCIONES DE LA CALCULADORA*/

        function appendToDisplay(value) {
            document.getElementById('display').value += value;
        }

        function clearDisplay() {
            document.getElementById('display').value = '';
        }

        function calculate() {
            try {
                const expression = document.getElementById('display').value;
                const result = eval(expression);
                document.getElementById('display').value = result;
                addToHistory(expression, result);
            } catch (error) {
                document.getElementById('display').value = 'Error';
            }
        }

        function addToHistory(expression, result) {
            const historyList = document.getElementById('historial-list');
            const historyItem = document.createElement('li');
            // Asigna una clase al elemento li
            historyItem.classList.add('historial-item');
            historyItem.textContent = `${expression} = ${result}`;
            historyList.appendChild(historyItem);
            document.getElementById('historial').style.display = 'block';
        }

        /*FUNCIONES DEL MENU DESPLEGABLE*/

        const menuButton = document.getElementById('menu-button');
        const navbar = document.getElementById('myNavbar');

        menuButton.addEventListener('click', (event) => {
        // Evita que el clic en el botón cierre el menú inmediatamente
        event.stopPropagation();

        if (navbar.style.display === 'block') {
            navbar.style.display = 'none';
        } else {
            navbar.style.display = 'block';
        }
        });

        document.addEventListener('click', (event) => {
        // Comprueba si el menú está abierto y si el clic no ocurrió dentro del menú
        if (navbar.style.display === 'block' && event.target !== menuButton && !navbar.contains(event.target)) {
            navbar.style.display = 'none';
        }
        });
    </script>
</body>
</html>

